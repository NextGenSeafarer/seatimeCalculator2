<!DOCTYPE html>
<html lang="en"
      xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible"
          content="ie=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet"
          href="../static/css/normalize.css"/>
    <link rel="stylesheet"
          href="../static/css/main.css"/>
    <title>STC login</title>
</head>
<div class="wrapper">
    <!--    <div th:insert="~{blocks/header :: header}"></div>-->
    <header class="header">
        <div class="header__inner">
            <a class="header__website_name"
               href="/">Seatime Calculator</a>
            <nav class="header__nav">
                <ul class="header__nav-list">
                    <li class="header__nav-item">
                        <a href="/"
                           class="header__nav-link">Home</a>
                    </li>
                    <li class="header__nav-item">
                        <a href="/#about__block"
                           class="header__nav-link">About</a>
                    </li>
                    <li class="header__nav-item">
                        <a href="/#contact__block"
                           class="header__nav-link">Contact</a>
                    </li>
                </ul>
            </nav>
            <div class="header__btn-box">
                <div class="header__profile-nav">
                    <a href="/trips"
                       class="header__user-btn--profile">Trips</a>
                    <a href="/#"
                       class="header__user-btn--profile">Profile</a>
                </div>
                <div sec:authorize="isAnonymous()"
                     class="header__user-nav">
                    <a href="/login"
                       class="header__user-btn">Login</a>
                    /
                    <a id="registration"
                       href="/registration"
                       class="header__user-btn">Register</a>
                </div>
                <div sec:authorize="isAuthenticated()"
                     class="header__user-nav">
                    <a href="/logout"
                       class="header__user-btn">Logout</a>
                </div>
            </div>
        </div>
    </header>
    <body>
    <div class="container log-in">
        <div class="container__content">
            <div class="container__top">
                <div class="container__header">All we need is log in</div>
                <div class="container__header--offtop">
                    Don't share you personal information with others
                </div>
            </div>
            <div class="message_success message"
                 th:if="${success}">
                <div class="message_text">You have successfully registered</div>
            </div>
            <div class="message_fail message"
                 th:if="${param.error}">
                <div class="message_text">Incorrect username / password</div>
            </div>
            <form action="/login"
                  method="post"
                  class="container__registration-form">
                <label class="container__form-input_label"
                >Email
                    <input
                            name="username"
                            type="email"
                            class="container__form-input"
                            required
                            placeholder="Your email here"
                    />
                </label>

                <label class="container__form-input_label"
                >Password
                    <input
                            name="password"
                            type="password"
                            class="container__form-input"
                            maxlength="20"
                            required
                            placeholder="********"
                    />
                </label>
                <a id="forgot_password"
                   href="/forgot_password"
                   class="forgot_password">Forgot password?</a>
                <input
                        class="container__input--btn reg_btn"
                        type="submit"
                        value="Log in"
                />
            </form>
        </div>
    </div>
    <script>
        let params = new URLSearchParams(window.location.search)
        if (params.has('error')) {
            document.getElementById('forgot_password').classList.add('shake');
        }
    </script>
    </body>
</div>
</html>
